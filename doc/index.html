<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.25
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-README">README</h1>
<ul><li>
<p>Ruby version</p>
</li><li>
<p>System dependencies</p>
</li><li>
<p>Configuration</p>
</li><li>
<p>Database creation</p>
</li><li>
<p>Database initialization</p>
</li><li>
<p>How to run the test suite</p>
</li><li>
<p>Services (job queues, cache servers, search engines, etc.)</p>
</li><li>
<p>Deployment instructions</p>
</li><li>
<p>... User Creation API</p>
</li></ul>
<hr>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/users">localhost:3000/users</a> App Key : Authorization : bearer token Method : POST</p>

<p>Create admin (has role: admin, authorization as admin required to create an admin user) Body: {  “username”: “admin2”, (required and should be unique)  “password”: “password”, (required and should be in range 6..20 chars)  “email”: “admin2@example.com”, (optional)  “role”: “admin” (should be set as admin to create an admin) } Response: {  “status”: 200,  “error”: null,  “message”: “User created successfully”,  “data”: {  “user”: {  “id”: 7,  “username”: “admin2”,  “password_digest”: “$2a$12$oKW1VwZpXimb6PXsC1rMj.w9d9XjUnhlkpHtWxbcjftFcoShMnadi”,  “email”: “admin2@example.com”,  “role”: “admin”,  “created_at”: “2020-07-15T18:54:33.126Z”,  “updated_at”: “2020-07-15T18:54:33.126Z”  },  “token”: “eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo3fQ.kPxvpXMFUMcI-LnBA9ngNl8mL00Sk4OPFn8lElNcXHM”  } }</p>

<p>Create customer with role: customer Authorization : not required</p>

<p>Body: {  “username”: “customer1”, (required and should be unique)  “password”: “password”, (required and should be in range 6..20 chars)  “email”: “email@example.com”, (optional)  “role”: “customer” (optional, default value: customer) } Response:</p>

<p>{  “status”: 200,  “error”: null,  “message”: “User created successfully”,  “data”: {  “user”: {  “id”: 4,  “username”: “customer1”,  “password_digest”: “$2a$12$OKbeO8zbCHbZQOhewBLMdO712dIGPszSKIrFFx0B90wzI.Pr4lkfC”,  “email”: “email@example.com”,  “role”: “customer”,  “created_at”: “2020-07-15T17:54:54.657Z”,  “updated_at”: “2020-07-15T17:54:54.657Z”  },  “token”: “eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0fQ.TGZqqK-y64gP21bNqHhunTDewFSlGXWHpC17sPghG2k”  } }</p>

<p>Create owner with role: owner Authorization : not required Body: {  “username”: “owner”, (required and should be unique)  “password”: “password”, (required and should be in range 6..20 chars)  “email”: “owner@example.com”, (optional)  “role”: “owner” (optional, default value: customer) } Response: {  “satus”: 200,  “error”: null,  “message”: “User created successfully”,  “data”: {  “user”: {  “id”: 5,  “username”: “owner”,  “password_digest”: “$2a$12$EwNuYFIs3XRudZBHh9490eNc0mY0s8CDEg69HNykUYZMCaZrwRhWa”,  “email”: “owner@example.com”,  “role”: “owner”,  “created_at”: “2020-07-15T18:03:54.460Z”,  “updated_at”: “2020-07-15T18:03:54.460Z”  },  “token”: “eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1fQ.Zqphmh3IaPRjT13RMMpeyN4tBVssqtTKmCFs28yC_Ls”  } }</p>

<h2 id="label-User+Login">User Login</h2>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/login">localhost:3000/login</a> App Key : Authorization : bearer token Method : POST</p>

<p>Log in user (authorization as any user required)</p>

<p>Body: {  “username”: “customer”,  “password”: “password” }</p>

<p>Response:</p>

<p>{  “status”: 200,  “error”: null,  “message”: “User logged in successfully”,  “data”: {  “user”: {  “id”: 3,  “username”: “customer”,  “password_digest”: “$2a$12$fGb5QMTYqTg/M59iKuluoufLttDCt.9Z14sm/X33u099W/lG43tN2”,  “email”: null,  “role”: “customer”,  “created_at”: “2020-07-15T17:52:41.214Z”,  “updated_at”: “2020-07-15T17:52:41.214Z”  },  “token”: “eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozfQ.pDfHpeHdqQZa-UzzQYF_8GmQyyadQNxtA5-DZnczV9I”  } }</p>

<h2 id="label-Current+User+details">Current User details</h2>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/current_user">localhost:3000/current_user</a> App Key : Authorization : bearer token Method : GET</p>

<p>Show the current signed in user data</p>

<p>{  “status”: 200,  “error”: null,  “message”: “Your details”,  “data”: {  “user”: {  “id”: 1,  “username”: “admin”,  “password_digest”: “$2a$12$U4IVpibk0LSNJRwdYqbceuqKdlmDkixASEfH1w4EEqVzje6Rg/YLq”,  “email”: “user@example.com”,  “role”: “admin”,  “created_at”: “2020-07-15T17:13:34.862Z”,  “updated_at”: “2020-07-15T17:13:34.862Z”  }  } }</p>

<h2 id="label-User+details+update">User details update</h2>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/users">localhost:3000/users</a> App Key : Authorization : bearer token Method : PUT</p>

<p>Updates attributes for user</p>

<p>Admin user updates all attributes by username Other users can update their own attributes except role as admin</p>

<p>Admin user</p>

<p>Body: {  “username”: “customer1”,  “password”: “password”,  “email”: “@email.com”,  “role”: “admin” }</p>

<p>Response:</p>

<p>{  “status”: 200,  “error”: null,  “message”: “User with id : 4 is updated.”,  “data”: {  “id”: 4,  “username”: “customer1”,  “password_digest”: “$2a$12$G0gT/x.99UEUGYuRvL/wY.VHs92clw37DoqIZlkE3Q5yX6zJtoX4S”,  “email”: “@email.com”,  “role”: “admin”,  “created_at”: “2020-07-15T17:54:54.657Z”,  “updated_at”: “2020-07-15T22:14:18.839Z”  } } Owner user update Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/users">localhost:3000/users</a> App Key : Authorization : bearer token Method : PUT</p>

<p>Body: 
<pre class="code ruby"><code class="ruby">&quot;email&quot;: &quot;changed@email.com&quot;
</code></pre>

<p></p>

<p>Response:</p>

<p>{  “status”: 200,  “error”: null,  “message”: “Your record got updated.”,  “data”: {  “id”: 5,  “email”: “changed@email.com”,  “password_digest”: “$2a$12$EwNuYFIs3XRudZBHh9490eNc0mY0s8CDEg69HNykUYZMCaZrwRhWa”,  “username”: “owner”,  “role”: “owner”,  “created_at”: “2020-07-15T18:03:54.460Z”,  “updated_at”: “2020-07-15T21:50:16.891Z”  } }</p>

<h2 id="label-User+Account+Delete">User Account Delete</h2>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/users">localhost:3000/users</a> App Key : Authorization : bearer token Method : POST</p>

<p>Admin user deleting user by username</p>

<p>Body: {  “username”: “customer1”</p>

<p>}</p>

<p>Response: {  “status”: 200,  “error”: null,  “message”: “User customer1 is deleted.”,  “data”: null }</p>

<p>Customer user deleting their account</p>

<p>Headers:</p>

<p>Content type : Application/Json Request URL : <a href="http://localhost:3000/users">localhost:3000/users</a> App Key : Authorization : bearer token Method : POST</p>

<p>Response: {  “status”: 200,  “error”: null,  “message”: “You have successfully deleted your account.”,  “data”: null }</p>
</div></div>

      <div id="footer">
  Generated on Thu Jul 16 03:59:22 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.7.0).
</div>

    </div>
  </body>
</html>